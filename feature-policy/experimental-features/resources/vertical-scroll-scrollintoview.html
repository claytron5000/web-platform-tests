<!DOCTYPE html>
<html>
<style>
html, body, #container {
  width: 100%;
  height: 100%;
}

#spacer {
  width: 200%;
  height: 200%;
}
</style>
<div id="container">
  <div id="spacer"></div>
  <iframe></iframe>
</div>
<script>
  window.addEventListener('message', onMessageReceived);

  function frameBounds() {
    var rect = document.querySelector("iframe").getBoundingClientRect();
    return {
        x: rect.x, y: rect.y, width: rect.width, height: rect.height
      };
  }

  function onMessageReceived(e) {
    if (!e.data || !e.data.type)
      return;
    switch(e.data.type) {
      case "scroll":
        document.querySelector("iframe").contentDocument.body.scrollIntoView(
          {behavior: "instant"});
        ackMessage({bounds: frameBounds()}, e.source);
      break;

      case "child-frame-bounds":
        ackMessage({bounds: frameBounds()}, e.source);
      break;
    }
  }

  function ackMessage(msg, source) {
    source.postMessage(msg, "*");
  }
</script>
</html>
